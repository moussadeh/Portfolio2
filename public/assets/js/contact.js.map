{"version":3,"names":[],"mappings":"","sources":["contact.js"],"sourcesContent":["const formContact = document.querySelector('#form-contact');\r\nlet lockAction = false;\r\nif (formContact) {\r\n    formContact.addEventListener('submit', (e) => {\r\n        e.preventDefault();\r\n        sendMail(formContact, new FormData(formContact));\r\n    });\r\n}\r\n\r\nconst sendMail = async (form, FormData) => {\r\n    // trigger => le d√©clencheur\r\n    if (lockAction == false) {\r\n        lockAction == true;\r\n        Notiflix.Loading.circle();\r\n        try {\r\n            const response = await fetch(form.action, {\r\n                method: form.method,\r\n                body: FormData,\r\n            });\r\n            const data = await response.json();\r\n            Notiflix.Loading.remove();\r\n            if ((response.status == 200 || response.ok) && data.success == true) {\r\n                Notiflix.Notify.success(data.message);\r\n                formContact.reset();\r\n                return true;\r\n            } else {\r\n                if (data.message) {\r\n                    Notiflix.Notify.failure(data.message);\r\n                }\r\n                return false;\r\n                // throw new Error(`An error has occured: ${response.status}`);\r\n            }\r\n        } catch (error) {\r\n            Notiflix.Loading.remove();\r\n            console.error(error);\r\n            return false;\r\n        }\r\n    }else{\r\n        return false;\r\n    }\r\n};"],"file":"contact.js"}